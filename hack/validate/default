#!/usr/bin/env bash
#
# Run default validation, exclude vendor because it's slow

SCRIPTDIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
SCRIPTS=(
	# Skip DCO check here, as it's already checked in a separate stage in the Jenkinsfile
	# dco
	default-seccomp
	pkg-imports
	yamllint
	swagger
	swagger-gen
	toml
	deprecate-integration-cli
	golangci-lint
	shfmt
)

RET=0
for SCR in "${SCRIPTS[@]}"; do
	"$SCRIPTDIR/$SCR" || RET=$?
done
exit $RET
